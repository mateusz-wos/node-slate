<!doctype html>
<html>

  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Dotpay API</title>
    <link href="stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <link href="stylesheets/highlight-monokai.css" rel="stylesheet" type="text/css" media="screen, print" />
    <script src="javascripts/all.js" type="text/javascript"></script>
  </head>

  <body class="" data-languages="[&#34;code&#34;]">
    <a href="#" id="nav-button"> <span>
        NAV
        <img alt="undefined" class="undefined" src="images/navbar.png">
      </span> </a>
    <div class="tocify-wrapper"> <img alt="undefined" class="undefined" src="images/logo.png">
      <div class="lang-selector"> <a href="#" data-language-name="code">code</a> </div>
      <div class="search"> <input type="text" class="search" id="input-search" placeholder="Search"> </div>
      <ul class="search-results"></ul>
      <div id="toc"> </div>
      <ul class="toc-footer">
        <li><a href='#'>Dotpay API documentation</a></li>
        <li><a href='https://github.com/tripit/slate'>Documentation Powered by Slate</a></li>
      </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id="wst-p">WST�P</h1>
        <p>Niniejszy dokument opisuje interfejs systemu p�atno�ci oferowanego przez serwis dotpay i przeznaczony jest zar�wno dla podmiot�w zainteresowanych ofert� serwisu, jak i os�b zajmuj�cych si� wdro�eniem systemu.</p>
        <h1 id="charakterystyka-i-adres-interfejsu">CHARAKTERYSTYKA I ADRES INTERFEJSU</h1>
        <p>API panelu administracyjnego Sprzedawcy zosta� wykonany w stylu architektury REST</p>
        <p>Adresy pod kt�rymi dost�pny jest interfejs to:</p>
        <p>�rodowisko produkcyjne: <code>https://ssl.dotpay.pl/s2/login/api/</code> �rodowisko testowe: <code>https://ssl.dotpay.pl/test_seller/api/</code></p>
        <h1 id="uwierzytelnianie-i-autoryzacja">UWIERZYTELNIANIE I AUTORYZACJA</h1>
        <p>Uwierzytelnianie do API nast�puje poprzez podanie (metod� HTTP Basic authentication) loginu i has�a u�ytkownika analogicznych dla danych logowania do GUI panelu administracyjnego Sprzedawcy. Po wywo�aniu danego zasobu API zostanie zwr�cona odpowied�
          z odpowiednim kodem odpowiedzi HTTP. </p>
        <p>Przyk�adowo dla zasobu: <code>https://ssl.dotpay.pl/test_seller/api/v1/accounts/</code></p>
        <p>po wykonaniu ��dania z b��dnym loginem / has�em:</p>
        <ul>
          <li>
            <p>nag��wki ��dania: </p>
            <pre class="highlight undefined"><code> GET /test_seller<span class="hljs-meta-keyword">/api/</span>v1<span class="hljs-meta-keyword">/accounts/</span> HTTP/<span class="hljs-number">1.1</span>
<span class="hljs-symbol"> Host:</span> ssl.dotpay.pl
<span class="hljs-symbol"> Accept:</span> application/json
 Content-Type: application/json
<span class="hljs-symbol"> Authorization:</span> Basic VXNlcjU4NDc6QVFNQWJxZEF2Yg==</code></pre>
          </li>
        </ul>
        <p>zostanie zwr�cona odpowied�:</p>
        <ul>
          <li>
            <p>nag��wki odpowiedzi: </p>
            <pre class="highlight undefined"><code> <span class="hljs-string">HTTP/1.1</span> <span class="hljs-number">401</span> <span class="hljs-string">Unauthorized</span>
<span class="hljs-attr"> Content-Type:</span> <span class="hljs-string">application/json</span>
<span class="hljs-attr"> WWW-Authenticate:</span> <span class="hljs-string">Basic</span> <span class="hljs-string">realm="api"</span>
<span class="hljs-attr"> Vary:</span> <span class="hljs-string">Accept</span>
<span class="hljs-attr"> Allow:</span> <span class="hljs-string">GET,</span> <span class="hljs-string">HEAD,</span> <span class="hljs-string">OPTIONS</span></code></pre>
          </li>
          <li>
            <p>odpowied�:: </p>
            <pre class="highlight undefined"><code> {
  <span class="hljs-attr">"detail"</span>: <span class="hljs-string">"Invalid username/password"</span>
 }</code></pre>
          </li>
        </ul>
        <p>Je�li zaistnieje taka potrzeba, to jak w powy�szym przyk�adzie zostanie zwr�cona w�asno�� detail z tekstowym opisem b��du.</p>
        <blockquote>
          <p>Znaczenie zwracanych kod�w odpowiedzi HTTP:</p>
        </blockquote>
        <table>
          <thead>
            <tr>
              <th>HTTP status code</th>
              <th>OPIS</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>200 OK</td>
              <td>ok</td>
            </tr>
            <tr>
              <td>401 Unauthorized</td>
              <td>nie uda�o si� uwierzytelni�</td>
            </tr>
            <tr>
              <td>403 Forbidden</td>
              <td>brak uprawnie�</td>
            </tr>
          </tbody>
        </table>
        <h1 id="format-danych-wej-cia-wyj-cia">FORMAT DANYCH WEJ�CIA / WYJ�CIA</h1>
        <p>API ma mo�liwo�� komunikacji w formacie json (domy�lnie) lub xml. Wyb�r formatowania odbywa si� za pomoc� przes�ania nag��wk�w Accept oraz Content-Type lub dodatkowego parametru format (przekazanego metod� GET), kt�rego warto�ci� jest nazwa danego
          formatu (json lub xml).</p>
        <p>Przyk�adowo dla ��dania zasobu: <code>https://ssl.dotpay.pl/test_seller/api/v1/accounts/</code></p>
        <ul>
          <li>
            <p>z nag��wkami: </p>
            <pre class="highlight undefined"><code> GET /test_seller<span class="hljs-meta-keyword">/api/</span>v1<span class="hljs-meta-keyword">/accounts/</span> HTTP/<span class="hljs-number">1.1</span>
<span class="hljs-symbol"> Host:</span> ssl.dotpay.pl
<span class="hljs-symbol"> Accept:</span> application/json
 Content-Type: application/json</code></pre>
          </li>
          <li>
            <p>zostanie zwr�cona odpowied�:</p>
            <pre class="highlight undefined"><code>{
  <span class="hljs-attr">"count"</span>: <span class="hljs-number">1</span>,
  <span class="hljs-attr">"next"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">"previous"</span>: <span class="hljs-literal">null</span>,
  <span class="hljs-attr">"results"</span>: [
      {
      <span class="hljs-attr">"href"</span>: <span class="hljs-string">"https://ssl.dotpay.pl/test_seller/api/v1/accounts/443005/"</span>,
      <span class="hljs-attr">"id"</span>: <span class="hljs-string">"443005"</span>,
      <span class="hljs-attr">"status"</span>: <span class="hljs-string">"active"</span>,
      <span class="hljs-attr">"name"</span>: <span class="hljs-string">"Hoan Kiem Megastore"</span>,
      <span class="hljs-attr">"mcc_code"</span>: <span class="hljs-string">"7273"</span>,
      <span class="hljs-attr">"main_url"</span>: <span class="hljs-string">"http://www.example.com/"</span>,
          <span class="hljs-attr">"config"</span>: {
              <span class="hljs-attr">"urlc"</span>: <span class="hljs-string">"http://www.example.com/confirmation/"</span>,
              <span class="hljs-attr">"block_external_urlc"</span>: <span class="hljs-literal">false</span>,
              <span class="hljs-attr">"pin"</span>: <span class="hljs-string">"eMhbAulyaQKnFORbRL2EwK0hHZ5C7rkX"</span>
          }
      }
  ]
}</code></pre>
          </li>
          <li>
            <p>dla nag��wk�w:</p>
            <pre class="highlight undefined"><code>HTTP/1.1 <span class="hljs-number">401</span> Unauthorized</code></pre>
            <p> Content-Type: application/json WWW-Authenticate: Basic realm=&quot;api&quot; Vary: Accept Allow: GET, HEAD, OPTIONS</p>
          </li>
        </ul>
        <h2 id="questions-collection-questions-">Questions Collection [/questions]</h2>
        <h3 id="list-all-questions-get-">List All Questions [GET]</h3>
        <ul>
          <li>
            <p>Response 200 (application/json)</p>
            <pre class="highlight undefined"><code> GET /test_seller<span class="hljs-meta-keyword">/api/</span>v1<span class="hljs-meta-keyword">/accounts/</span> HTTP/<span class="hljs-number">1.1</span>
<span class="hljs-symbol"> Host:</span> ssl.dotpay.pl
<span class="hljs-symbol"> Accept:</span> application/json
 Content-Type: application/json
<span class="hljs-symbol"> Authorization:</span> Basic VXNlcjU4NDc6QVFNQWJxZEF2Yg==</code></pre>
          </li>
        </ul>
        <h3 id="create-a-new-question-post-">Create a New Question [POST]</h3>
        <p>You may create your own question using this action. It takes a JSON object containing a question and a collection of answers in the form of choices.</p>
        <ul>
          <li>
            <p>Request (application/json)</p>
            <pre class="highlight undefined"><code>  {
      <span class="hljs-attr">"question"</span>: <span class="hljs-string">"Favourite programming language?"</span>,
      <span class="hljs-attr">"choices"</span>: [
          <span class="hljs-string">"Swift"</span>,
          <span class="hljs-string">"Python"</span>,
          <span class="hljs-string">"Objective-C"</span>,
          <span class="hljs-string">"Ruby"</span>
      ]
  }</code></pre>
          </li>
          <li>
            <p>Response 201 (application/json)</p>
            <ul>
              <li>
                <p>Headers</p>
                <pre class="highlight undefined"><code><span class="hljs-symbol">  Location:</span> <span class="hljs-meta-keyword">/questions/</span><span class="hljs-number">2</span></code></pre>
              </li>
              <li>
                <p>Body</p>
                <pre class="highlight undefined"><code>  {
      <span class="hljs-attr">"question"</span>: <span class="hljs-string">"Favourite programming language?"</span>,
      <span class="hljs-attr">"published_at"</span>: <span class="hljs-string">"2015-08-05T08:40:51.620Z"</span>,
      <span class="hljs-attr">"choices"</span>: [
          {
              <span class="hljs-attr">"choice"</span>: <span class="hljs-string">"Swift"</span>,
              <span class="hljs-attr">"votes"</span>: <span class="hljs-number">0</span>
          }, {
              <span class="hljs-attr">"choice"</span>: <span class="hljs-string">"Python"</span>,
              <span class="hljs-attr">"votes"</span>: <span class="hljs-number">0</span>
          }, {
              <span class="hljs-attr">"choice"</span>: <span class="hljs-string">"Objective-C"</span>,
              <span class="hljs-attr">"votes"</span>: <span class="hljs-number">0</span>
          }, {
              <span class="hljs-attr">"choice"</span>: <span class="hljs-string">"Ruby"</span>,
              <span class="hljs-attr">"votes"</span>: <span class="hljs-number">0</span>
          }
      ]
  }</code></pre>
              </li>
            </ul>
          </li>
        </ul>
        <h1 id="errors">Errors</h1>
        <aside class="notice">This error section is stored in a separate file in <code>includes/_errors.md</code>. Slate allows you to optionally separate out your docs into many files...just save them to the <code>includes</code> folder and add them to the top of your <code>index.md</code>&#39;s
          frontmatter. Files are included in the order listed.</aside>
        <p>The Kittn API uses the following error codes:</p>
        <table>
          <thead>
            <tr>
              <th>Error Code</th>
              <th>Meaning</th>
            </tr>
          </thead>
          <tbody>
            <tr>
              <td>400</td>
              <td>Bad Request -- Your request sucks</td>
            </tr>
            <tr>
              <td>401</td>
              <td>Unauthorized -- Your API key is wrong</td>
            </tr>
            <tr>
              <td>403</td>
              <td>Forbidden -- The kitten requested is hidden for administrators only</td>
            </tr>
            <tr>
              <td>404</td>
              <td>Not Found -- The specified kitten could not be found</td>
            </tr>
            <tr>
              <td>405</td>
              <td>Method Not Allowed -- You tried to access a kitten with an invalid method</td>
            </tr>
            <tr>
              <td>406</td>
              <td>Not Acceptable -- You requested a format that isn&#39;t json</td>
            </tr>
            <tr>
              <td>410</td>
              <td>Gone -- The kitten requested has been removed from our servers</td>
            </tr>
            <tr>
              <td>418</td>
              <td>I&#39;m a teapot</td>
            </tr>
            <tr>
              <td>429</td>
              <td>Too Many Requests -- You&#39;re requesting too many kittens! Slow down!</td>
            </tr>
            <tr>
              <td>500</td>
              <td>Internal Server Error -- We had a problem with our server. Try again later.</td>
            </tr>
            <tr>
              <td>503</td>
              <td>Service Unavailable -- We&#39;re temporarially offline for maintanance. Please try again later.</td>
            </tr>
          </tbody>
        </table>
      </div>
      <div class="dark-box">
        <div class="lang-selector"> <a href="#" data-language-name="code">code</a> </div>
      </div>
    </div>
  </body>

</html>